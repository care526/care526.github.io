(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{582:function(t,s,a){"use strict";a.r(s);var n=a(32),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("blockquote",[a("p",[t._v("当 Angular 实例化组件类并渲染组件视图及其子视图时，组件实例的生命周期就开始了\n当 Angular 销毁组件实例并从 DOM 中移除它渲染的模板时，生命周期就结束了")])]),t._v(" "),a("h2",{attrs:{id:"钩子的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#钩子的分类"}},[t._v("#")]),t._v(" 钩子的分类")]),t._v(" "),a("h3",{attrs:{id:"指令与组件共有的钩子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#指令与组件共有的钩子"}},[t._v("#")]),t._v(" 指令与组件共有的钩子")]),t._v(" "),a("ul",[a("li",[t._v("ngOnChanges()")]),t._v(" "),a("li",[t._v("ngOnInit()")]),t._v(" "),a("li",[t._v("ngDoCheck()")]),t._v(" "),a("li",[t._v("ngOnDestroy()")])]),t._v(" "),a("h3",{attrs:{id:"组件特有的钩子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件特有的钩子"}},[t._v("#")]),t._v(" 组件特有的钩子")]),t._v(" "),a("ul",[a("li",[t._v("ngAfterContentInit()")]),t._v(" "),a("li",[t._v("ngAfterContentChecked()")]),t._v(" "),a("li",[t._v("ngAfterViewInit()")]),t._v(" "),a("li",[t._v("ngAfterViewChecked()")])]),t._v(" "),a("h2",{attrs:{id:"执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行顺序"}},[t._v("#")]),t._v(" 执行顺序")]),t._v(" "),a("ul",[a("li",[t._v("ngOnChanges()\n组件的输入发生变更时调用"),a("br"),t._v("\n如果组件没有输入，则不会调用该钩子"),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ngOnChanges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("changes"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SimpleChanges"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleChanges")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("propName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SimpleChange"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SimpleChange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  previousValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  currentValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  firstChange"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("previousValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" currentValue"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" firstChange"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * Check whether the new value is the first value assigned.\n   */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFirstChange")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("ngOnInit()\n初始化钩子，在ngOnChanges()完成之后调用，只会调用一次")]),t._v(" "),a("li",[t._v("ngDoCheck()\n自定义变更检测钩子，自定义我们的检测逻辑，并在Angular无法或不愿意自己检测的变化时作出反应"),a("br"),t._v("\n第一次在ngOnInit()后调用"),a("br"),t._v("\n之后每次在ngOnChanges()发生后调用")]),t._v(" "),a("li",[t._v("ngAfterContentInit()")]),t._v(" "),a("li",[t._v("ngAfterContentChecked()")]),t._v(" "),a("li",[t._v("ngAfterViewInit()")]),t._v(" "),a("li",[t._v("ngAfterViewChecked()")]),t._v(" "),a("li",[t._v("ngOnDestroy()\n销毁指令、组件之前调用"),a("br"),t._v("\n用于清理副作用(清理可观察对象的订阅，定时器，事件监听...)，防止内存泄漏")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://angular.cn/guide/lifecycle-hooks",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-ts extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ts"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" OnInit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" OnDestroy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@angular/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"ngoninit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ngoninit"}},[t._v("#")]),t._v(" ngOnInit")]),t._v(" "),a("h2",{attrs:{id:"ngondestroy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ngondestroy"}},[t._v("#")]),t._v(" ngOnDestroy")]),t._v(" "),a("p",[t._v("https://www.cnblogs.com/Aerfajj/p/10748887.html")])])}),[],!1,null,null,null);s.default=e.exports}}]);